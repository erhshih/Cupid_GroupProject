<!DOCTYPE html>
<html lang="en">

<head>
  @@include('./layout/meta.html', {
  "title" : "常見問題頁面"
  })
  <title>Cupid | 常見問題</title>
  <script src="./js/jQ.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.24.0/axios.min.js"></script>

  <script>
    function getCate() {
      $.ajax({
        method: "POST",
        url: "./API/commonqa.php",
        data: {},
        dataType: "json",
        success: function (response) {
          display(response);
          console.log(response);
          // alert(response);          
        },
        error: function (exception) {
          alert("數據載入失敗: " + exception.status);
          // console.log(response);
        }
      });
    }

    function display(response) {
      // 更新html內容(透過jQuery跑迴圈取值)
      // console.log('111');
      $.each(response, function (index, row) {


        var UpdateDate = row.UpdateDate == null ? "" : row.UpdateDate;

        $("#qacontainer").append(

          "<div class='qaquestion-container'>" +
          "<div class='qa-title'>" +
          "<img src='./images/icons/add.svg' class='open-close'>" +
          row.commonqa_question +
          "</div>" +
          "<div class='qa-content' style='display: none'>" +
          row.commonqa_answer +
          "</div>" +
          "</div>"
        );
      });
      click();
    }    
  </script>
</head>

<body onload="getCate()" class="faq-on">
  @@include('./layout/header.html', {
  "h1" : "常見問題"
  })
  <main class="faqmain">
    <div class="qabanner">
      <!-- <img src="./images/qabanner.png" alt=""> -->
      <div class="qaicon">
        <img src="./images/cupid_white.png" alt="">
        <p>常見問題</p>
      </div>
    </div>
    <!-- collapse -->
    <!-- <div id="FAQ_app"> -->

    <div class="qacontainer" id="qacontainer">
      <div class="qaquestion-container" id="qaquestion-container">
        <div class="qa-title" id="qa-title">
          <img src="./images/icons/add.svg" class="open-close" alt="">
          如何擁有個人的訂製喜帖？
        </div>
        <div class="qa-content" style="display: none">
          <div class="ans1">
            <div class="step">
              <img src="./images/Group 390.svg" alt="">
              <span>1. 選擇您喜歡的主題</span>
            </div>
            <div class="step">
              <img src="./images/Group 391qastep2.svg" alt="">
              <span>2. 選擇適合您的模板、字型</span>
            </div>
            <div class="step">
              <img src="./images/Group 392qastep3.svg" alt="">
              <span>3. 上傳您想分享的圖片</span>
            </div>
            <div class="step">
              <img src="./images/Group 393qastep4.svg" alt="">
              <span>4. 製作喜帖表單內容</span>
            </div>
            <div class="step">
              <img src="./images/Group 394qastep5.svg" alt="">
              <span>5. 預覽畫面後產出連結。</span>
            </div>

          </div>
        </div>
      </div>
      <!--  <div class="question-container">
                <div class="qa-title">
                  <img src="./images/icons/add.svg" class="open-close" alt="">
                  電子表單建議在婚禮多久前使用呢？
            
                </div>
                <div class="qa-content" style="display: none">
                  建議在婚期前 3-6 個月前開始使用。
                </div>
              </div>
              <div class="question-container">
                <div class="qa-title">
                  <img src="./images/icons/add.svg" class="open-close" alt="">
                  賓客填寫回函的資訊，我要如何取得回覆資料呢？
            
                </div>
                <div class="qa-content" style="display: none">
                  電子喜帖開通後，我們會提供後台給您查詢及下載賓客填寫的回覆內容
                </div>
              </div>
              <div class="question-container">
                <div class="qa-title">
                  <img src="./images/icons/add.svg" class="open-close" alt="">
                  如何發電子喜帖給賓客?
            
                </div>
                <div class="qa-content" style="display: none">
                  我們會為您提供屬於您的網址，您可透過LINE、FACEBOOK、簡訊、EMAIL轉發電子喜帖。
                </div>
              </div>
              <div class="question-container">
                <div class="qa-title">
                  <img src="./images/icons/add.svg" class="open-close" alt="">
                  客製化電子喜帖功能是免費的嗎？
            
                </div>
                <div class="qa-content" style="display: none">
                  是的。
                </div>
              </div>
              <div class="question-container">
                <div class="qa-title">
                  <img src="./images/icons/add.svg" class="open-close" alt="">
                  可選擇的付款方式有那些？
            
                </div>
                <div class="qa-content" style="display: none">
                  僅提供信用卡線上刷卡服務，或是取貨付款。
                  
                </div>
              </div> -->
    </div>
    <!-- button -->
    <!-- <a href="./gift.html" class="qabutton" >
          <span class="qabutton">前往婚禮小物</span>
        </a> -->
    <!-- letter -->
    <div class="qaletter">
      <div class="box">
        <form action="" class="form">
          <p class="h1">聯絡我們</p>
          <div class="content">
            <div class="form-Group">
              <label for="" class="label-style">您的姓名

                <input type="text" required>
              </label>
            </div>
            <div class="form-Group">
              <label for="" class="label-style">電子信箱</label>
              <input type="email" required>
            </div>
            <div class="form-Group">
              <label for="" class="label-style">聯絡電話</label>
              <input type="text" required>
            </div>
            <div class="form-Group">
              <label for="" class="label-style">婚禮日期</label>
              <input type="text">
            </div>
            <p class="ask">諮詢項目</p>
            <div class="formradio">
              <div>
                <input type="radio" name="type" id="type_aa">
                <label for="type_aa">電子喜帖</label>
              </div>
              <div>
                <input type="radio" name="type" id="type_bb">
                <label for="type_bb">婚禮小物</label>
              </div>
              <div>
                <input type="radio" name="type" id="type_cc">
                <label for="type_cc">訂單問題</label>
              </div>
              <div>
                <input type="radio" name="type" id="type_dd">
                <label for="type_dd">其他</label>
              </div>
            </div>
            <div>
              <p class="other">其他需求</p>
              <textarea name="" id="" cols="0" rows="0" required></textarea>
            </div>
          </div>
          <div class="button">
            <button class="btn_red">送出</button>
          </div>
        </form>
        <div class="cover-img" style="font-size: 0;">
          <img src="./images/Polygon 18.png" alt="">
        </div>
        <div class="backbody">

        </div>
        <div class="body-img" style="font-size: 0;">

          <img src="./images/Group 395letter.png" alt="">
        </div>
      </div>
    </div>
    <!--  letter2-->
    <div class="qaletterbb">
      <div class="box">
        <form action="" class="form">
          <p class="h1">聯絡我們</p>
          <div class="content">
            <div class="form-Group">
              <label for="" class="label-style">您的姓名
                <input type="text">
              </label>
            </div>
            <div class="form-Group">
              <label for="" class="label-style">電子信箱</label>
              <input type="email">
            </div>
            <div class="form-Group">
              <label for="" class="label-style">聯絡電話</label>
              <input type="text">
            </div>
            <div class="form-Group">
              <label for="" class="label-style">婚禮日期</label>
              <input type="text">
            </div>
            <p class="ask">諮詢項目</p>
            <div class="formradio">
              <div>
                <input type="radio" name="type" id="type_a">
                <label for="type_a">電子喜帖</label>
              </div>
              <div>
                <input type="radio" name="type" id="type_b">
                <label for="type_b">婚禮小物</label>
              </div>
              <div>
                <input type="radio" name="type" id="type_c">
                <label for="type_c">訂單問題</label>
              </div>
              <div>
                <input type="radio" name="type" id="type_d">
                <label for="type_d">其他</label>
              </div>
            </div>
            <div>
              <p class="other">其他需求</p>
              <textarea name="" id="" cols="0" rows="0"></textarea>
            </div>
          </div>
          <div class="button">
            <button id="btnn" class="btn_red">送出</button>
          </div>
        </form>
      </div>
    </div>



  </main>
  @@include('./layout/footer.html')


  <script>
    function click() {
      qaTitles = document.getElementsByClassName("qa-title");

      for (let i = 0; i < qaTitles.length; i++) {
        const element = qaTitles[i];
        element.addEventListener("click", clickTitle);
        // console.log('qaTitles.length')
      }
    };
    function clickTitle(event) {
      switchStateImage(event);

      switchContent(event);
    }

    function switchStateImage(event) {
      const img = event.currentTarget.querySelector(".open-close");

      let imgSrc = img.src;

      if (imgSrc.indexOf("add") != -1) {
        img.src = "./images/icons/minus.svg";
      } else {
        img.src = "./images/icons/add.svg";
      }
    }

    function switchContent(event) {
      let ttt = event.currentTarget;
      const qaContent = event.currentTarget.parentElement.querySelector(".qa-content");

      if (qaContent.style.display == "") {
        qaContent.style.display = "none";
        ttt.style.backgroundColor = null;
        ttt.style.color = null;
      } else {
        qaContent.style.display = "";
        ttt.style.backgroundColor = "#932639";
        ttt.style.color = "white";
      }
    }

    // =======

    const el = document.querySelector('.cover-img');
    const form = document.querySelector('.form');
    const letterbody = document.querySelector('body-img');
    window.onscroll = function () {

      el.classList.add("openA");
      setTimeout(() => {
        form.classList.add("formShow");
      }, 2000)
    }
    window.onscroll = function () { myFunction() };
    function myFunction() {
      if (document.body.scrollTop > 900 || document.documentElement.scrollTop > 900) {
        el.classList.add("openA");
        setTimeout(() => {
          form.classList.add("formShow");
        }, 2000)
      };
    }

    // =============================================================================
    $(".form").submit(function () {

      alert("感謝您的回饋，我們將盡快回覆您的問題。");

    });


  </script>
</body>

</html>